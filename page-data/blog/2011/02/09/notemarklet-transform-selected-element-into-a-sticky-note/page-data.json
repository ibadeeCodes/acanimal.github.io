{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2011/02/09/notemarklet-transform-selected-element-into-a-sticky-note/","webpackCompilationHash":"94830e9bd36aba932e6a","result":{"data":{"markdownRemark":{"html":"<p><a href=\"http://en.wikipedia.org/wiki/Bookmarklet\">Bookmarklets</a> are nothing new but I never created one. There are tons of available bookmarklets to make tons of useful little things but here is my little but nice bookmarklet :) called <strong><em><a href=\"javascript:(function() {       if (!window.notemarkletDiv) {         window.notemarkletDiv = {};     }       var notemarklet = window.notemarklet;     var notemarkletDiv = null;       function createnotemarkletDiv() {         notemarkletDiv = document.createElement('div');         notemarkletDiv.style.position = 'absolute';         notemarkletDiv.style.display = 'none';         notemarkletDiv.style.border = '1px solid #DEE184';         notemarkletDiv.style.borderRadius = '1px';         notemarkletDiv.style.padding = '0px';         notemarkletDiv.style.margin = '0px';         notemarkletDiv.style.backgroundColor = '#F4F39E';         notemarkletDiv.style.opacity = '0.4';         notemarkletDiv.style.zIndex = 9999;         notemarkletDiv.style.boxShadow = '3px 3px 6px #000';         notemarkletDiv.style.webkitBoxShadow = '3px 3px 6px #000';         notemarkletDiv.style.mozBoxShadow = '3px 3px 6px #000';         notemarkletDiv.style.background = '-webkit-gradient(linear, 0% 0%, 0% 100%, from(#EBEB00), to(#C5C500))';         document.getElementsByTagName('body')[0].appendChild(notemarkletDiv);     };       var previousTarget = null;     function notemarkElement(event) {         if(!notemarkletDiv) {             createnotemarkletDiv();         }         setTimeout(function(){             previousTarget = target;             notemarkletDiv.style.display = 'none';               var target = event.target;             var targetRect = target.getBoundingClientRect();             notemarkletDiv.style.top = (window.pageYOffset+targetRect.top-5)+'px';             notemarkletDiv.style.left = (window.pageXOffset+targetRect.left-5)+'px';             notemarkletDiv.style.width = (targetRect.right-targetRect.left+10)+'px';             notemarkletDiv.style.height = (targetRect.bottom-targetRect.top+10)+'px';         }, 200);         setTimeout(function(){             notemarkletDiv.style.display = 'block';         }, 500);     };       document.addEventListener('mousemove', notemarkElement, false); })();\">notemarklet</a></em></strong> that helps reading marking the element under the mouse and changing its looks as a sticky note. Next there are a couple of samples:</p>\n<p style=\"text-align: center;\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 17.400204708290687%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAApElEQVQI153MMQ6CQBAFUI6tBlT0BJ7AyoIYFKgsvYGgrsiuNCgEmDUYCgopvssewUl+XmZ+MkZ84whPDFHIQPRB3+Pv6bovDKIDsmyDsnKR5w7K0lGPXVTVVlvTDvIdgKSv9JUBpNxrSXramjy0rY+mOcK4ixXC8wiMjXFlFqLLBHFsQggLSWIi4TOIh632wSFzcD5Fmtqqs/SdiwWeryWKYo0fvknULPBAw5YAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"notemarker1\" title=\"notemarker1\" src=\"/static/d40eddcf600f46a000326506bc6f15c5/dbb61/notemarker1.png\" srcset=\"/static/d40eddcf600f46a000326506bc6f15c5/19bd1/notemarker1.png 163w,\n/static/d40eddcf600f46a000326506bc6f15c5/d3bcb/notemarker1.png 325w,\n/static/d40eddcf600f46a000326506bc6f15c5/dbb61/notemarker1.png 650w,\n/static/d40eddcf600f46a000326506bc6f15c5/6b691/notemarker1.png 975w,\n/static/d40eddcf600f46a000326506bc6f15c5/6fc51/notemarker1.png 977w\" sizes=\"(max-width: 650px) 100vw, 650px\" loading=\"lazy\">\n    </span><a href=\"./images/2011/02/notemarker2.png\"></a></p>\n<p style=\"text-align: left;\">As you can see notemarker can help you reading text pages. It is a pure JavaScript code without the need of external libraries. So not expect great effects.</p>\n<p style=\"text-align: center;\"><a href=\"./images/2011/02/notemarker2.png\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 43.58974358974359%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0klEQVQoz22S30/TUBTH+wdrwjRmGQyNgr8S44NR4GEP8jCfTEx8NEi7QnTMsQkJ28rarV1bRowCIWsL69av33vGiA82+eR77rnfc+65udVs20apVEK5XEaSJMiyKcbjMdSXZRkmk4mQpqnklSqm06l4lCrfXLXT4Qm2tr7ANHXU6zXUalXs7//A4eEBGo06dkwD1ep32dN1HXvVPRj6V+zuVoiJg59NGMY2ms2GDKNF0RXC4A+C8DcGg1+IYzUVcH1NrmaqBuZQt6i1yiuvWvNiuLkUG45sNvwI3/+E4fAzosgQ4rhyS5KYszjSEY10iZVH5ec6Gm0TE9rlZYWTLZACycO2c+j17sNx7qHbzcHz8hL3+8wNiuj2lWcBXfpc9wHa7TtwxJ/jUA+hXVx8Y6Fq9pw8Y7MnbPKUDVYE110Ver3HLFyFR597k1c+pb7/groCP3gF7fx8hw9wlyctsnERx8dLPH1ZYsd5hE6nwHhZtN3Kc78Iy1qif5a3rEVZW1aBjV9COztrotV6TcM7mtdxdPSG8VuhY62xaIPmNbLOgk0EwSb1vfBvrAhPPkCL45hX63Mah49yyg0fnutJzrYdhGEosecN5P+b/5f/I00n+As9g3dzwToCzwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"notemarker2\" title=\"notemarker2\" src=\"/static/5c65ed1ef4d47912b9867d420a0429d1/dbb61/notemarker2.png\" srcset=\"/static/5c65ed1ef4d47912b9867d420a0429d1/19bd1/notemarker2.png 163w,\n/static/5c65ed1ef4d47912b9867d420a0429d1/d3bcb/notemarker2.png 325w,\n/static/5c65ed1ef4d47912b9867d420a0429d1/dbb61/notemarker2.png 650w,\n/static/5c65ed1ef4d47912b9867d420a0429d1/2f3b2/notemarker2.png 663w\" sizes=\"(max-width: 650px) 100vw, 650px\" loading=\"lazy\">\n    </span></a></p>\n<p style=\"text-align: left;\"><a href=\"./images/2011/02/notemarker2.png\"></a>Next is the source code.</p>\n<p style=\"text-align: left;\">To use this bookmarlet simply create a new bookmark on your broser and paste the next code as URL. Looking at source code, you can learn how to get the current target element under the mouse, its position, dimensions, etc.</p>\n<p style=\"text-align: left;\">\n</p><pre class=\"brush:js\">javascript:(function() {</pre>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">if (!window.notemarkletDiv) {\n    window.notemarkletDiv = {};\n}\n\nvar notemarklet = window.notemarklet;\nvar notemarkletDiv = null;\n\nfunction createnotemarkletDiv() {\n    notemarkletDiv = document.createElement(&#39;div&#39;);\n    notemarkletDiv.style.position = &#39;absolute&#39;;\n    notemarkletDiv.style.display = &#39;none&#39;;\n    notemarkletDiv.style.border = &#39;1px solid #DEE184&#39;;\n    notemarkletDiv.style.borderRadius = &#39;1px&#39;;\n    notemarkletDiv.style.padding = &#39;0px&#39;;\n    notemarkletDiv.style.margin = &#39;0px&#39;;\n    notemarkletDiv.style.backgroundColor = &#39;#F4F39E&#39;;\n    notemarkletDiv.style.opacity = &#39;0.4&#39;;\n    notemarkletDiv.style.zIndex = 9999;\n\tnotemarkletDiv.style.boxShadow = &#39;3px 3px 6px #000&#39;;\n\tnotemarkletDiv.style.webkitBoxShadow = &#39;3px 3px 6px #000&#39;;\n\tnotemarkletDiv.style.mozBoxShadow = &#39;3px 3px 6px #000&#39;;\n\tnotemarkletDiv.style.background = &#39;-webkit-gradient(linear, 0% 0%, 0% 100%, from(#EBEB00), to(#C5C500))&#39;;\n\tdocument.getElementsByTagName(&#39;body&#39;)[0].appendChild(notemarkletDiv);\n};\n\nvar previousTarget = null;\nfunction notemarkElement(event) {\n\tif(!notemarkletDiv) {\n    \tcreatenotemarkletDiv();\n\t}\n\tsetTimeout(function(){\n\t\tpreviousTarget = target;\n\t\tnotemarkletDiv.style.display = &#39;none&#39;;\n\n\t\tvar target = event.target;\n\t\tvar targetRect = target.getBoundingClientRect();\n        notemarkletDiv.style.top = (window.pageYOffset+targetRect.top-5)+&#39;px&#39;;\n        notemarkletDiv.style.left = (window.pageXOffset+targetRect.left-5)+&#39;px&#39;;\n        notemarkletDiv.style.width = (targetRect.right-targetRect.left+10)+&#39;px&#39;;\n        notemarkletDiv.style.height = (targetRect.bottom-targetRect.top+10)+&#39;px&#39;;\n\t}, 200);\n\tsetTimeout(function(){\n\t\tnotemarkletDiv.style.display = &#39;block&#39;;\n\t}, 500);\n};\n\ndocument.addEventListener(&#39;mousemove&#39;, notemarkElement, false);</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>})();</pre></p>\n<p style=\"text-align: left;\">I think code is really simple and self explanatory. Only note the use of Â <em>getBoundingClientRect</em> function to get target position and dimension. Also, take into account, to avoid modifying the target element we create a new div element that overlaps the target.</p>\n<p style=\"text-align: left;\">Simple, easy and useful... anything more?</p>","excerpt":"Bookmarklets are nothing new but I never created one. There are tons of available bookmarklets to make tons of useful little things but here is my little but nice bookmarklet :) called notemarklet that helps reading marking the element under the mouse and changing its looks as a sticky note. Next there are a couple of samples: })();","frontmatter":{"date":"09 February, 2011","title":"notemarklet: Transform selected element into a sticky note"},"fields":{"slug":"/blog/2011/02/09/notemarklet-transform-selected-element-into-a-sticky-note/","readingTime":{"text":"3 min read"}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blog/2011/02/09/notemarklet-transform-selected-element-into-a-sticky-note/"}}}