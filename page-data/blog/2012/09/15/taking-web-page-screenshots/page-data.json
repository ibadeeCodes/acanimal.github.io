{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2012/09/15/taking-web-page-screenshots/","webpackCompilationHash":"94830e9bd36aba932e6a","result":{"data":{"markdownRemark":{"html":"<p>Recently I have worked on system that requires to take web page screenshots. Not only a screenshot of the whole page but of a concrete element.</p>\n<p>Looking on the net I have found many solutions for this problems, which can be classified in to categories:</p>\n<ul>\n<li><em>Local applications</em>: I mean a screen capture program or a plugin for your browser (both Chrome and FireFox has some nice plugins for this).</li>\n<li><em>Online services</em>: There are some online services that offers possibility to get a screenshots (like <a href=\"http://url2png.com/\">url2png</a>), test your web site on different browsers (like <a href=\"http://browsershots.org/\">browsershots</a>&#xA0;or <a href=\"https://browserling.com/\">browserling</a>) or even an API to automatize the task to capture a web page (like <a href=\"http://www.thumbalizr.com/\">thumbalizer</a> or <a href=\"http://url2png.com/\">url2png</a>).</li>\n</ul>\n<h2>The solution</h2>\n<p>There are alternatives but I like to go beyond the easy solutions and try things, so, after looking a bit more I found a powerful solution:&#xA0;<a href=\"http://phantomjs.org/\">PhantomJS</a>.<a style=\"color: #ff4b33; line-height: 24px;\" href=\"./images/2012/09/phantomjs-logo.png\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 240px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 33.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAABcklEQVQY002QW0sCURSFz1hmEJFgoVNZKZrQhQpK53pmzmXGsKL+SC8iCD2WhNpFC7sgRaHUk0VURDcIIqK3Hnrr17S1kGCx+Diss9l7IYsTU5VMaYYzwilmBFOKKalDU5T8vdB/zIiOxoeD4uiId2oyEvBjXYH/HCvcUBk1KIjV/Zfrzkxm6hZWuaHBCNQ1PS1cP6Hn947FpXC/SDlR5hPyfIJh1VZithLlqsR0BcACSTMGBBbmtMQsTEEdyTT6/EYfX86D4z5351Tcbr1/ER5eu7d2fZlc71rWUyp7CqXe1XVfbtu3UezJF1tunwKpdFyOIle+iN4+0eOb4+JOHPRPxOOebMGd2UTVK3R+I1Qu28pnzsOKUL10nNaE05pr76S9UB5IrcAuyLmcdOwcOPaPUL44FItSrBnEwATuZg1RjREAOFGjpsKobHPZtqAuDmuPhYNicMg7HA5FQoYc5VAM0aFMbmpWQxBqeB2aDBko7AfyBHkZTGFepwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"phantomjs logo\" title=\"phantomjs-logo\" src=\"/static/7bb0a01d4a086e21ec464038298d31ed/0783d/phantomjs-logo.png\" srcset=\"/static/7bb0a01d4a086e21ec464038298d31ed/19bd1/phantomjs-logo.png 163w,\n/static/7bb0a01d4a086e21ec464038298d31ed/0783d/phantomjs-logo.png 240w\" sizes=\"(max-width: 240px) 100vw, 240px\" loading=\"lazy\">\n    </span></a></p>\n<p>Oh,&#xA0;wonderful, but.. what is PhantomJS and what is it good for?</p>\n<p>As the project page says:</p>\n<blockquote><p>PhantomJS is a headless WebKit with JavaScript API. It has&#xA0;<strong>fast</strong>&#xA0;and&#xA0;<strong>native</strong>&#xA0;support for various web standards: DOM handling, CSS selector, JSON, Canvas, and SVG.<br>\nPhantomJS is created by&#xA0;<a href=\"http://twitter.com/AriyaHidayat\">Ariya Hidayat</a>.</p></blockquote>\n<p>This means you have all the powerful of a WebKit based browser within a program, so you can use it for: headless website testing, site scraping, page rendering, network monitoring, ...</p>\n<h2>How to use PhantomJS to take a web page screenshot?</h2>\n<p>Go to the <a href=\"http://phantomjs.org/download.html\">project page</a> and download the binary package . In my case I download the Linux 64-bit system.</p>\n<p>PhantomJS is a command line tool and, once&#xA0;and&#xA0;uncompressed the previous package, you will find it in the <code>bin/phantomjs</code>. As a command tool the usage looks like:</p>\n<pre class=\"prettyprint\">./phantomjs [options] script.[js|coffee] [script argument [script argument ...]]</pre>\n<p>You can get more usage information with: <code>./phantomjs --help</code></p>\n<p>PhantomJS accepts programs coded in JavaScript or CoffeeScript and, hopefully, the package comes with a <code>examples</code> folder which is full of examples in both languages.</p>\n<p>One of the sample programs is the rasterize.[js|coffee] which shows how we can rasterize a web page to an image file.<br>\nThe program usage is:</p>\n<pre class=\"prettyprint\">./phantomjs rasterize.js URL filename [paperwidth*paperheight|paperformat] [zoom]</pre>\n<p>And the whole program code is:</p>\n<pre class=\"prettyprint\">var page = require(&apos;webpage&apos;).create(),\n    system = require(&apos;system&apos;),\n    address, output, size;</pre>\n<p>if (system.args.length &#x3C; 3 || system.args.length > 5) {\nconsole.log('Usage: rasterize.js URL filename [paperwidth*paperheight|paperformat] [zoom]');\nconsole.log('  paper (pdf output) examples: \"5in<em>7.5in\", \"10cm</em>20cm\", \"A4\", \"Letter\"');\nphantom.exit(1);\n} else {\naddress = system.args[1];\noutput = system.args[2];\npage.viewportSize = { width: 600, height: 600 };\nif (system.args.length > 3 &#x26;&#x26; system.args[2].substr(-4) === \".pdf\") {\nsize = system.args[3].split('*');\npage.paperSize = size.length === 2 ? { width: size[0], height: size[1], margin: '0px' }\n: { format: system.args[3], orientation: 'portrait', margin: '1cm' };\n}\nif (system.args.length > 4) {\npage.zoomFactor = system.args[4];\n}\npage.open(address, function (status) {\nif (status !== 'success') {\nconsole.log('Unable to load the address!');\n} else {\nwindow.setTimeout(function () {\npage.render(output);\nphantom.exit();\n}, 200);\n}\n});\n}</pre></p>\n<p>Probably the most important sentences are:</p>\n<ul>\n<li>The inclusion of the webpage module:\n<pre class=\"prettyprint\">var page = require(&apos;webpage&apos;).create();</pre>\n</li>\n<li>Load the web page with <code>open</code>function:\n<pre class=\"prettyprint\">page.open(address, function (status) { ...};</pre>\n</li>\n<li>Render the web page to a file with the <code>render</code>function:\n<pre class=\"prettyprint\">page.render(output);</pre>\n</li>\n</ul>\n<p>Note also in the rasterize.js source code the <code>page.viewportSize</code> is defined to be <code>600x600</code> which is equivalent as we where navigating a page with a screen resolution of <code>600x600</code>.</p>\n<p>Lets to to see a sample and take a screenshot of this blog site:</p>\n<pre class=\"prettyprint\">./bin/phantomjs ./examples/rasterize.js http://acuriousanimal.com/blog acanimal_blog.png</pre>\n<p>This makes a screenshot of the whole blog site. Here I attached a modified version of the&#xA0;image with lot less resolution of the original, but you can get an idea of the powerful of PhantomJS.:</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 164px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 280.4878048780488%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,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&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"acanimal blog little\" title=\"acanimal_blog_little\" src=\"/static/6bbd03c7dee5159730885f3af8f517c5/63ea9/acanimal_blog_little.png\" srcset=\"/static/6bbd03c7dee5159730885f3af8f517c5/19bd1/acanimal_blog_little.png 163w,\n/static/6bbd03c7dee5159730885f3af8f517c5/63ea9/acanimal_blog_little.png 164w\" sizes=\"(max-width: 164px) 100vw, 164px\" loading=\"lazy\">\n    </span></p>\n<div>\n</div>","excerpt":"Recently I have worked on system that requires to take web page screenshots. Not only a screenshot of the whole page but of a concrete element. Looking on the net I have found many solutions for this problems, which can be classified in to categories: if (system.args.length < 3 || system.args.length > 5) {\n    console.log('Usage: rasterize.js URL filename paperwidth*paperheight|paperformat zoom');\n    console.log('  paper (pdf output) examples: \"5in7.5in\", \"10cm20cm\", \"A4\", \"Letter\"');\n    phantom.exit(1);\n} else {\n    address = system.args1;\n    output = system.args2;\n    page.viewportSize = { width: 600, height: 600 };\n    if (system.args.length > 3 && system.args2.substr(-4) === \".pdf\") {\n        size = system.args3.split('*');\n        page.paperSize = size.length === 2 ? { width: size0, height: size1, margin: '0px' }\n                                           : { format: system.args3, orientation: 'portrait', margin: '1cm' };\n    }\n    if (system.args.length > 4) {\n        page.zoomFactor = system.args4;\n    }\n    page.open(address, function (status) {\n        if (status !== 'success') {\n            console.log('Unable to load the address!');\n        } else {\n            window.setTimeout(function () {\n                page.render(output);\n                phantom.exit();\n            }, 200);\n        }\n    });\n}","frontmatter":{"date":"15 September, 2012","title":"Taking web page screenshots"},"fields":{"slug":"/blog/2012/09/15/taking-web-page-screenshots/","readingTime":{"text":"4 min read"}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blog/2012/09/15/taking-web-page-screenshots/"}}}