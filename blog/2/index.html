<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.5c7c1fec065a41afada3.css">code[class*=language-],pre[class*=language-]{color:#c5c8c6;text-shadow:0 1px rgba(0,0,0,.3);font-family:Inconsolata,Monaco,Consolas,Courier New,Courier,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#1d1f21}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#7c7c7c}.token.punctuation{color:#c5c8c6}.namespace{opacity:.7}.token.keyword,.token.property,.token.tag{color:#96cbfe}.token.class-name{color:#ffffb6;text-decoration:underline}.token.boolean,.token.constant{color:#9c9}.token.deleted,.token.symbol{color:#f92672}.token.number{color:#ff73fd}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a8ff60}.token.variable{color:#c6c5fe}.token.operator{color:#ededed}.token.entity{color:#ffffb6}.token.url{color:#96cbfe}.language-css .token.string,.style .token.string{color:#87c38a}.token.atrule,.token.attr-value{color:#f9ee98}.token.function{color:#dad085}.token.regex{color:#e9c062}.token.important{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:200;src:local("Nunito Extra Light "),local("Nunito-Extra Light"),url(/static/nunito-latin-200-2a4f4b0a3646be9d8560178ebc4306e5.woff2) format("woff2"),url(/static/nunito-latin-200-249c20ee4450b15795cdde4cbb5f38d8.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:200;src:local("Nunito Extra Light italic"),local("Nunito-Extra Lightitalic"),url(/static/nunito-latin-200italic-89ba5530f3b2c751f2a49e25f31e3f15.woff2) format("woff2"),url(/static/nunito-latin-200italic-67d3d63c0ac28ccbc0c0fcbda8e66e04.woff) format("woff")}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:300;src:local("Nunito Light "),local("Nunito-Light"),url(/static/nunito-latin-300-895205e22ad7d4d866df7102352077cd.woff2) format("woff2"),url(/static/nunito-latin-300-cad1324b066f52f764cf080d9244c8b2.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:300;src:local("Nunito Light italic"),local("Nunito-Lightitalic"),url(/static/nunito-latin-300italic-f4a613c73f19da60cf08aa42b2a9249b.woff2) format("woff2"),url(/static/nunito-latin-300italic-1fde36925a8493f45651815dd89d22a7.woff) format("woff")}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:400;src:local("Nunito Regular "),local("Nunito-Regular"),url(/static/nunito-latin-400-de6068bf97f40206af0b062e262e6213.woff2) format("woff2"),url(/static/nunito-latin-400-6386ba6af7b7a5480eb5efda82ff803c.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:400;src:local("Nunito Regular italic"),local("Nunito-Regularitalic"),url(/static/nunito-latin-400italic-6ca737afe5cef0c0a9c9bbfec4e398ff.woff2) format("woff2"),url(/static/nunito-latin-400italic-ef2e2a0d9dd85cf89526d1f27f8fbbef.woff) format("woff")}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:600;src:local("Nunito SemiBold "),local("Nunito-SemiBold"),url(/static/nunito-latin-600-b10ecee279e3a8d11d5ec3193b68d8bf.woff2) format("woff2"),url(/static/nunito-latin-600-c3de23017bcb95715e6eb11dd6a10fc5.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:600;src:local("Nunito SemiBold italic"),local("Nunito-SemiBolditalic"),url(/static/nunito-latin-600italic-97d4f64b213f3e5163827754c213bb4e.woff2) format("woff2"),url(/static/nunito-latin-600italic-4f62b81ff327bd0ffadcb7b82e6c13b2.woff) format("woff")}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:700;src:local("Nunito Bold "),local("Nunito-Bold"),url(/static/nunito-latin-700-91ae827aa880d02ea567979add1da58c.woff2) format("woff2"),url(/static/nunito-latin-700-623f5ed42b0b347fb4531ded4e4b57a2.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:700;src:local("Nunito Bold italic"),local("Nunito-Bolditalic"),url(/static/nunito-latin-700italic-b94caac4c88b1fe6c4faf6256646f42e.woff2) format("woff2"),url(/static/nunito-latin-700italic-3aabf345871453097c2d8762411d187e.woff) format("woff")}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:800;src:local("Nunito ExtraBold "),local("Nunito-ExtraBold"),url(/static/nunito-latin-800-36e4c9b478c2e2adb339a76d819eed7e.woff2) format("woff2"),url(/static/nunito-latin-800-33c733aff58ea08126616f346cbf4f4a.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:800;src:local("Nunito ExtraBold italic"),local("Nunito-ExtraBolditalic"),url(/static/nunito-latin-800italic-0f20328772c0d84250ef397c129607fb.woff2) format("woff2"),url(/static/nunito-latin-800italic-672d2afe4f40a766e46ff95379550c4f.woff) format("woff")}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:900;src:local("Nunito Black "),local("Nunito-Black"),url(/static/nunito-latin-900-b296e05d0932e16d500b753becdb338e.woff2) format("woff2"),url(/static/nunito-latin-900-cbf4339e858edf2b14d20140b2887343.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:900;src:local("Nunito Black italic"),local("Nunito-Blackitalic"),url(/static/nunito-latin-900italic-ae87e7b4e2d3825919b9bc6c82039b80.woff2) format("woff2"),url(/static/nunito-latin-900italic-602859bd469800c6205701f5a16b1a1b.woff) format("woff")}#___gatsby,#gatsby-focus-wrapper,body,html{width:100%;height:100%;margin:0;font-family:Nunito,Avenir,Helvetica,"sans-serif";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{font-style:normal;color:rgba(0,0,0,.8);-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code{background-color:rgba(0,0,0,.04)}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.8rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.8rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}.gatsby-highlight{background-color:#1d1f21;border-radius:.3em;margin:.5em 0;padding:1em;overflow:auto}.gatsby-highlight pre[class*=language-].line-numbers{padding:0 0 0 2.8em;overflow:initial}@media only screen and (max-width:480px){html{font-size:100%}}</style><meta name="generator" content="Gatsby 2.13.14"/><title data-react-helmet="true">Blog | A Curious Animal</title><meta data-react-helmet="true" name="description" content="technology, gis, javascript, web, mapping, openlayers, leaflet, jquery, acuriousanimal, acanimal"/><meta data-react-helmet="true" property="og:title" content="Blog"/><meta data-react-helmet="true" property="og:description" content="technology, gis, javascript, web, mapping, openlayers, leaflet, jquery, acuriousanimal, acanimal"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@acanimal"/><meta data-react-helmet="true" name="twitter:title" content="Blog"/><meta data-react-helmet="true" name="twitter:description" content="technology, gis, javascript, web, mapping, openlayers, leaflet, jquery, acuriousanimal, acanimal"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><link rel="shortcut icon" href="/icons/icon-48x48.png?v=78a6c6fcdb91be22537eb4a2256e5f2d"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=78a6c6fcdb91be22537eb4a2256e5f2d"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=78a6c6fcdb91be22537eb4a2256e5f2d"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=78a6c6fcdb91be22537eb4a2256e5f2d"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=78a6c6fcdb91be22537eb4a2256e5f2d"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=78a6c6fcdb91be22537eb4a2256e5f2d"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=78a6c6fcdb91be22537eb4a2256e5f2d"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=78a6c6fcdb91be22537eb4a2256e5f2d"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=78a6c6fcdb91be22537eb4a2256e5f2d"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="alternate" type="application/rss+xml" title="A Curious Animal" href="/rss.xml"/><link as="script" rel="preload" href="/component---src-templates-blog-list-js-61e5397d31f13c84bebb.js"/><link as="script" rel="preload" href="/1-26e29eb6158becab9f2e.js"/><link as="script" rel="preload" href="/app-39cda9469372e75ea0ef.js"/><link as="script" rel="preload" href="/styles-577ae45e6d2a94e7a3f3.js"/><link as="script" rel="preload" href="/webpack-runtime-c2694fb10bfac50a2cd6.js"/><link as="fetch" rel="preload" href="/page-data/blog/2/page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><style data-emotion-css="1k8t7d9">.css-1k8t7d9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;}</style><div class="css-1k8t7d9 e46mkkt0"><style data-emotion-css="780j8p">.css-780j8p{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;background-color:#EEEEEE;background:url("https://unsplash.it/1500/500?random&blur") no-repeat center center fixed;background-size:cover;}</style><header class="css-780j8p e5kaaa10"><style data-emotion-css="6wa51n">.css-6wa51n{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;max-width:860px;padding:1rem 1.0875rem;font-size:1.2rem;text-align:center;}</style><div class="css-6wa51n e5kaaa13"><style data-emotion-css="fb9rxi">.css-fb9rxi{color:black;margin-left:15px;-webkit-text-decoration:none;text-decoration:none;display:inline-block;position:relative;text-shadow:1px 1px 1px #FFFFFF;margin-left:0;}.css-fb9rxi::after{content:"";position:absolute;width:100%;-webkit-transform:scaleX(0);-ms-transform:scaleX(0);transform:scaleX(0);height:2px;bottom:0;left:0;background-color:rgba(0,0,0,0.8);-webkit-transform-origin:bottom right;-ms-transform-origin:bottom right;transform-origin:bottom right;-webkit-transition:-webkit-transform 0.4s cubic-bezier(0.86,0,0.07,1);-webkit-transition:transform 0.4s cubic-bezier(0.86,0,0.07,1);transition:transform 0.4s cubic-bezier(0.86,0,0.07,1);}.css-fb9rxi:hover::after{-webkit-transform:scaleX(1);-ms-transform:scaleX(1);transform:scaleX(1);-webkit-transform-origin:bottom left;-ms-transform-origin:bottom left;transform-origin:bottom left;}</style><a class="css-fb9rxi e5kaaa15" href="/">Home</a><style data-emotion-css="s7vzln">.css-s7vzln{color:black;margin-left:15px;-webkit-text-decoration:none;text-decoration:none;display:inline-block;position:relative;text-shadow:1px 1px 1px #FFFFFF;}.css-s7vzln::after{content:"";position:absolute;width:100%;-webkit-transform:scaleX(0);-ms-transform:scaleX(0);transform:scaleX(0);height:2px;bottom:0;left:0;background-color:rgba(0,0,0,0.8);-webkit-transform-origin:bottom right;-ms-transform-origin:bottom right;transform-origin:bottom right;-webkit-transition:-webkit-transform 0.4s cubic-bezier(0.86,0,0.07,1);-webkit-transition:transform 0.4s cubic-bezier(0.86,0,0.07,1);transition:transform 0.4s cubic-bezier(0.86,0,0.07,1);}.css-s7vzln:hover::after{-webkit-transform:scaleX(1);-ms-transform:scaleX(1);transform:scaleX(1);-webkit-transform-origin:bottom left;-ms-transform-origin:bottom left;transform-origin:bottom left;}</style><a class="css-s7vzln e5kaaa14" href="/blog">Blog</a><a class="css-s7vzln e5kaaa14" href="/books">Books</a><a class="css-s7vzln e5kaaa14" href="/projects">Projects</a><a class="css-s7vzln e5kaaa14" href="/archive">Archive</a><a class="css-s7vzln e5kaaa14" href="/about">About</a><style data-emotion-css="1r9gd80">.css-1r9gd80{position:absolute;top:20px;right:20px;}</style><a href="/rss.xml" class="css-1r9gd80 e5kaaa16"><style data-emotion-css="on3xa">.css-on3xa{width:20px;height:20px;margin-bottom:0;}</style><img alt="logo" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9IjQzNC4yMzlweCIgaGVpZ2h0PSI0MzQuMjM5cHgiIHZpZXdCb3g9IjAgMCA0MzQuMjM5IDQzNC4yMzkiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQzNC4yMzkgNDM0LjIzOTsiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGQ9Ik04OS4xMzgsMzA2LjgxN2MtMjMuNjIzLTEwLjQ4MS00OC4zNjctMTMuNzg3LTY4LjgxNiw1LjA2MmMtMTcuODgsMTYuNDgyLTIzLjQ2LDQ0LjUzOS0xNi45NTYsNjcuNzU1DQoJCQljOC41NTcsMzAuNTE5LDM4LjQ1Niw1MS41NzcsNjkuOTA5LDQ4LjM2M2MzNi4yMjEtMy42OTcsNzAuODc4LTM3LjAyMyw2MC42OTItNzQuODQNCgkJCUMxMjcuODk5LDMzMC42MzMsMTA5LjQ5NiwzMTUuODQ2LDg5LjEzOCwzMDYuODE3eiBNNjkuMzE5LDQwMy42OTljLTE5Ljg1NCwyLjAyNi0zNi4wMDgtMTIuOTE4LTQyLjEzMi0zMC42MzUNCgkJCWMtNC41ODUtMTMuMjY0LTEuNzAxLTI2LjU5OSw2LjA5OS0zNy45MzNjMTguODA0LTI3LjMzLDU4Ljc0Ny0zLjk1Niw3Mi44NjQsMTYuNTMzDQoJCQlDMTIzLjU0NywzNzYuOTM0LDkzLjI4Miw0MDEuMjU3LDY5LjMxOSw0MDMuNjk5eiIvPg0KCQk8cGF0aCBkPSJNMTkwLjgwNSwyMjcuNzUzYy00OS4xMzQtNDAuMDUtMTE2LjEwMy00OS4xMy0xNzcuMzY5LTUxLjEwNWMtNC43OTQtMC4xNTctNy44OTYsMi4zMTgtOS4zOTUsNS42MjINCgkJCWMtMS4xNTIsMS42NDMtMS43NTcsMy44MDYtMS40MjIsNi41NGMyLjU5NSwyMS4xNDMsMi41NzUsNDIuMjg5LDEuMzUxLDYzLjUyNWMtMC40MTcsNy4xNzYsNS4xMTksMTAuNjA4LDEwLjY4OSwxMC4zODUNCgkJCWMwLjg3NCwwLjI0NCwxLjgwMywwLjQwNiwyLjgyOSwwLjQyN2M0MC45NzksMC44OTQsODQuNjM0LDYuODcsMTE3LjI5NiwzMy43OTljMzUuMTI0LDI4Ljk3LDM5LjI3Myw3Ni43MDgsMzUuNDQ0LDExOC45NDENCgkJCWMtMC4yOTQsMy4yNSwwLjcwMSw1LjcwMiwyLjM1Niw3LjQyOWMxLjcwNiwyLjYwMSw0LjQ5OSw0LjUzLDguNDYsNC43MzNjMjMuODY2LDEuMjI5LDQ3Ljc0OSwxLjM1MSw3MS42NCwxLjM1MQ0KCQkJYzcuMjUxLDAsMTAuNjk5LTUuODQsMTAuNDA5LTExLjQ1NmMwLjI3NC0xLjAzMSwwLjQ2My0yLjE0MywwLjQwNi0zLjQwN0MyNjAuMzc3LDM0Mi41MDUsMjQ5Ljg2NywyNzUuODg3LDE5MC44MDUsMjI3Ljc1M3oNCgkJCSBNMTkyLjUzMSw0MDYuOTAzYzIuNjMtNDQuNjQ2LTUuNzE4LTg4Ljk1NS0zOC42MDMtMTIxLjc0OWMtMzIuOS0zMi44MDQtODIuOTIzLTQxLjU2OC0xMjcuODg0LTQzLjM1NQ0KCQkJYzAuNTI4LTE0LjM3MSwwLjM4MS0yOC43MDYtMC44MjgtNDMuMDMxYzUxLjkyNywyLjU5NSwxMDMuNzg0LDExLjc4OSwxNDcuMzA3LDQyLjA2NmM1Ni4yMjksMzkuMTIsNjUuODcxLDEwMy43ODgsNjkuMDEsMTY2Ljg5Mw0KCQkJQzIyNS4xOTMsNDA3LjY3MSwyMDguODYyLDQwNy41MTMsMTkyLjUzMSw0MDYuOTAzeiIvPg0KCQk8cGF0aCBkPSJNMzEyLjA0Miw5MC45NkMyMjUuNDkzLDIwLjQyNCwxMDYuMjIxLDcuODg3LDExLjk3OSw0Ljg0Yy0wLjAxLDAtMC4wMjUsMC0wLjAzNiwwYy01LjAxNywwLTguMTgxLDEuOTYtOS45MjcsNS44MTINCgkJCWwtMC42MDksMS4wNjZjLTEuMTkzLDEuNzA2LTEuNjMsMy45NTMtMS4zLDYuNjgzYzQuMDMyLDMyLjg5LDQuNzc4LDY3Ljg1MiwyLjM1NiwxMTAuMDNjLTAuMTg4LDMuMjUsMC42MDksNS44MzQsMi4zNjEsNy42OQ0KCQkJYzEuOTUsMi4wNjQsNS4wODMsMy4yNSw4LjU5NywzLjI1bDEuNjA0LTAuMDUzbDAuOTY1LDAuMjY3YzEuMTkzLDAuMzIyLDIuMjM5LDAuNDgyLDMuMjgsMC41MDMNCgkJCWM2My41OTcsMS4zOTgsMTQ0LjM3Miw5LjQwNywyMDUuMDA4LDU5LjQwOWM1MS4zODksNDIuMzc5LDcyLjAyMSwxMTAuODg2LDYzLjA4MywyMDkuNDM0Yy0wLjI5NCwzLjI2MSwwLjQzOCw1Ljc1NCwyLjI0NSw3LjYyNw0KCQkJbDAuNzU3LDAuOTVjMi4xMjIsMy4yMjksNS4yODYsNC45NzcsOS4zOTgsNS4xODljNDEuMjQ5LDIuMTIzLDgzLjA5NywyLjMwMSwxMjIuNDMxLDIuMzA2YzMuNDIzLDAsNi4xNjUtMS4wNTcsOC4xMzUtMy4xMzkNCgkJCWMyLjIwNC0yLjMxNSwzLjQwNy01LjkzMSwzLjIxNC05LjY1OGwtMC4wNjEtMS4wMjVsMC4yNzQtMC45OTVjMC4zNzYtMS40MjIsMC41MjgtMi42MjEsMC40NzItMy44Nw0KCQkJQzQyOS41MzYsMjk4LjA5Myw0MTUuODQ1LDE3NS41NzEsMzEyLjA0Miw5MC45NnogTTQwOS45MTUsNDAwLjg3MWwtNi44NTUtMC4wM2MtMjYuNTEyLTAuMDkyLTU1LjA2MS0wLjMyLTg0LjIwMy0xLjQxNw0KCQkJbC02LjYzMi0wLjI0OWwwLjM5MS02LjYyMWM1LjE1NC04Ny40NjMtMTYuNDU3LTE1NS45ODUtNjQuMjUxLTIwMy42NTVjLTQ0Ljg3NS00NC43Ni0xMTUuMTQ0LTY4LjQ1MS0yMTQuODI0LTcyLjQxOWwtNi40NjktMC4yNTkNCgkJCWwwLjIzOS02LjQ3NWMwLjk3NS0yNi40MDUsMC41MTMtNTAuMjY3LTEuNDA3LTcyLjk0MmwtMC42MjktNy40MTJsNy40MzQsMC4zNzFjMTEyLjE2Miw1LjU5OSwxOTEuMDU5LDI4LjE4OCwyNTUuODE4LDczLjIzOQ0KCQkJYzk3LjAwNSw2Ny40ODksMTE1LjUxNCwxNzkuNzU2LDEyMS4wNDksMjkxLjAxOUw0MDkuOTE1LDQwMC44NzF6Ii8+DQoJPC9nPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo=" class="css-on3xa egf89ri4"/></a></div><div class="css-6wa51n e5kaaa13"><style data-emotion-css="1loed2t">.css-1loed2t{font-size:2.5rem;margin-bottom:0;text-shadow:1px 1px 1px #FFFFFF;}</style><h1 class="css-1loed2t e5kaaa11">A Curious Animal</h1><style data-emotion-css="jtg2ex">.css-jtg2ex{margin-top:10px;color:#606060;text-shadow:1px 1px 1px #FFFFFF;}</style><h3 class="css-jtg2ex e5kaaa12">Born to be curious, born to be animal!</h3></div></header><style data-emotion-css="jgz09r">.css-jgz09r{margin:0 auto;max-width:860px;padding:1rem;}</style><div class="css-jgz09r egf89ri0"><main><div class="css-jgz09r egf89ri0"><div><style data-emotion-css="nn640c">.css-nn640c{-webkit-text-decoration:none;text-decoration:none;color:inherit;}</style><a class="css-nn640c" href="/blog/2017/08/18/using-cluster-module-with-http-servers/"><style data-emotion-css="usq1qd">.css-usq1qd{display:inline;border-radius:1em 0 1em 0;margin-bottom:10px;background-image:linear-gradient( -100deg,rgba(255,250,150,0.15),rgba(255,250,150,0.8) 100%,rgba(255,250,150,0.25) );}</style><h3 class="css-usq1qd e1y8vgc61">Using cluster module with HTTP servers<!-- --> </h3><div><style data-emotion-css="1gkjwr1">.css-1gkjwr1{display:inline;color:#606060;margin-bottom:10px;}</style><h5 class="css-1gkjwr1 e1y8vgc60">18 August, 2017</h5><h5 class="css-1gkjwr1 e1y8vgc62"> - <!-- -->5 min read</h5></div><p>The cluster module allow us improve performance of our application in multicore CPU systems. This is specially important no matter if working on an APIs or an, i.e. ExpressJS based, web servers, what we desire is to take advantage of all the CPUs on each machine our NodeJS application is running. The cluster module allow us to load balance the incoming request among a set of worker processes and, because of this, improving the throughput of our application. In the previous post Understanding the NodeJS cluster module I introduced the cluster module and show some basic usages of it to create worker processes and comunicate them with the master process. In this post we are going to see how to use the cluster module when creating HTTP servers, both using plain HTTP module and with ExpressJS.</p></a></div><div><a class="css-nn640c" href="/blog/2017/08/12/understanding-the-nodejs-cluster-module/"><h3 class="css-usq1qd e1y8vgc61">Understanding the NodeJS cluster module<!-- --> </h3><div><h5 class="css-1gkjwr1 e1y8vgc60">12 August, 2017</h5><h5 class="css-1gkjwr1 e1y8vgc62"> - <!-- -->8 min read</h5></div><p>NodeJS processes runs on a single process, which means it does not take advantage from multi-core systems by default. If you have an 8 core CPU and run a  NodeJS program via  it will run in a single process, wasting the rest of CPUs. Hopefully for us NodeJS offers the cluster module that contains a set of functions and properties that help us to create programs that uses all the CPUs. Not a surprise the mechanism the cluster module uses to maximize the CPU usage was via forking processes, similar to the old fork() system call Unix systems.</p></a></div><div><a class="css-nn640c" href="/blog/2016/12/11/fetch-api-and-express-sessions/"><h3 class="css-usq1qd e1y8vgc61">fetch API and Express sessions<!-- --> </h3><div><h5 class="css-1gkjwr1 e1y8vgc60">11 December, 2016</h5><h5 class="css-1gkjwr1 e1y8vgc62"> - <!-- -->4 min read</h5></div><p>TL;DR fetch API is the successor of XHR and although it&#x27;s really powerful ( see What is the difference between the Fetch API and XMLHttpRequest?) you should take care of some things, like the fact you are responsible to determine if cookies must be sent to the server.</p></a></div><div><a class="css-nn640c" href="/blog/2016/08/14/configuring-atom-with-eslint/"><h3 class="css-usq1qd e1y8vgc61">Configuring Atom editor with ESLint and the AirBnB style guide rules<!-- --> </h3><div><h5 class="css-1gkjwr1 e1y8vgc60">14 August, 2016</h5><h5 class="css-1gkjwr1 e1y8vgc62"> - <!-- -->5 min read</h5></div><p>TL;DR This article demonstrate how to integrate the ESLint tool with Atom editor so our source code be automatically checked, showing linting messages in editor. In addition, ESLint will be configured based on the AirBnB code style rules. Atom &amp; ESLint Atom editor is probably one of the most used text editors (along with SublimeText, Visual Studio Code, TextMate, ...). On his side, ESLint is an open source project, originally created by Nicholas C. Zakas, with the goal to provide a pluggable linting utility for JavaScript. Usually, the way to use ESLint involves the command line, invoking it to check our project&#x27;s code at some point (for example, before made a build) or automatizing its execution with a tool like Gulp or Grunt each time a file is modified. ESLint also accepts a configuration files, like , where we can define the set of rules we want the tool checks. The issue is, as you can imagine, the number of rules ESLint accepts is really huge. The importance of a style guide In projects with many developers it can be useful define a set of rules that force all of them to code with the same style, that is, use a style guide. The problem with style guides is they are set of good practices-conventions that everybody assumes the rest are applying. As you can image working with assumptions in a big and shared code is not good. Without a tool like ESLint there must be people acting as a police, that is, spending time reviewing the code style and not only the code. Thanks to ESLint this time can be reduced forcing each member of the team to ensure the code follows the same convention rules before committing or pushing to the repository. Besides, using CI tools (like GitHub with TravisCI) we can also check the code style and disable the possibility to merge a branch if the code lint fails. The AirBnB JavaScript Style Guide Creating and maintaining a style guide is not an easy tasks. Hopefully, the awesome people at AirBnB have created the AirBnB JavaScript Style Guide for us that I have chose because of: Works with ES5 and ES6: arrow functions, object destructuring, array spread, ... Includes React and JSX style: one component per file, recognizes stateless vs class component, ... It is based on ESLint. I want to note here the Standard JS project, which defines a set of rules ready to be used in our JS projects. Related with what I have said in the previous section, I want to highlight two sentences written in the main page of the project: This module saves you (and others!) time in two ways: No configuration. The easiest way to enforce consistent style in your project. Just drop it in. Catch style errors before they&#x27;re submitted in PRs. Saves precious code review time by eliminating back-and-forth between maintainer and contributor. Integrating ESLint with Atom Ok, enough talk and lets start working. We need to make two things: first, configure ESLint in our project (for this we also need to install the AirBnB style guide), and second install necessary Atom plugins to show messages while coding. Configuring ESLint in your project The first thing we need to do is configure ESLint in our project. Remember we are going to use the AirBnB style guide so we need no install the required package and make our ESLint configuration extend from the AirBnB ESLint configuration. Install ESLint locally to your project: . Install the AirBnB ESLint configuration. Following package instructions we need to execute next sentences to install the right package versions and dependencies: Create a  file in the root of our project. We must be sure to include the property  as part of the configuration. Next is a sample configuration file. Note we inherited configuration from AirBnB. In addition, we have added the eslint rules  and  to forces us to write some JSDoc for functions, methods and classes. Right now our project is configured with ESLint and the base set of rules from AirBnB, but it requires we execute ESLint manually or automatize in some way (in the build process). Installing Atom plugins Lets go to configure Atom to automatically lint files and show us message while coding. Be sure you have completed successfully the previous sections. Install the Atom plugin linter-eslint. You are finished :) The plugin will detect automatically the  file in your project and will start linting on the fly the source code showing all the errors and warning.  Conclusions ESLint is a powerful tool that help teams ensuring quality code. On his side Atom is become a great and powerful editor, mainly due the active community and the growing set of plugins. The combination of both tools can improve greatly our productivity so, no doubt and try it !!!</p></a></div><div><a class="css-nn640c" href="/blog/2016/08/10/universal-applications/"><h3 class="css-usq1qd e1y8vgc61">Introducing Universal Web Applications<!-- --> </h3><div><h5 class="css-1gkjwr1 e1y8vgc60">10 August, 2016</h5><h5 class="css-1gkjwr1 e1y8vgc62"> - <!-- -->8 min read</h5></div><p>TL;DR: This post is the first in a series of articles to talk about Universal (previously known as Isomorphic) Web Applications. The goal of the series is to describe: What an universal web application is? Why are them important? What benefits offers universal web apps? and How to create a boilerplate to start a universal app project. Note, because JavaScript ecosystem is incredible bast and, because we can create an universal web app with almost any combination of framework and libraries, we will use in this series React, Redux and Webpack.</p></a></div><div><a class="css-nn640c" href="/blog/2016/07/26/resilient-php-applications-with-phystrix/"><h3 class="css-usq1qd e1y8vgc61">Resilient PHP applications with Phystrix<!-- --> </h3><div><h5 class="css-1gkjwr1 e1y8vgc60">06 July, 2016</h5><h5 class="css-1gkjwr1 e1y8vgc62"> - <!-- -->6 min read</h5></div><p>TL;DR: This post talks about how to make our PHP applications more resilient, that is, they must be able to adapt to third party failures and recover quickly from them. You will see why configuring timeouts is not enough to protect your system and what better tools exists. We will explain briefly Hystrix concepts and introduce an alternative for PHP called Phystrix. No matter how well designed be your system, no matter the number, kind or quality of your tests. There is only once thing for sure: your system will fail. Although we can well design, implement and test our systems we have dependencies with third party services: databases, queues, call REST API on another systems, ... In the decade of microservices where dependency/communication among systems becomes a main pilar we need mechanisms to make our systems resistant among third party failures. We need to resilience, that is, recover quickly from disasters. The problem with dependencies In the best case you can be sure your system will work fine but you can make the same assumption for the third party systems you communicate with (another microservices, databases, queues, ...). So the problems arise when some third party services starts failing. This can be because of: The system is near collapse, your requests arrives but they take too much time to be replied. This means each request that arrives to our system is hold until the third party service responds. Because the third party system works slowly we start holding too much connections which could collapse our system too. In addition, although the third party system is near collapse we continue sending requests, so we are not helping to mitigate the problem, we are increasing it. Collapse of a third party service can collapse our system. The system is down. Many drivers tries to establish a connection during a given period of time before raising an exception. Why to wait for a connection if we know the system is down? The classic (and not the right) way to solve The classic way and, a good practice, to mitigate this problem is to configure the timeouts for each library and driver you use to communicate to every third party service. As example, Guzzle allows to set a  when instatiating a : Or the SncRedisBundle for Symfony allows to specify the timeout both for connection and read/write actions: As I said, setting timeouts is a good practice, but it not solves the problem. If the third party is down and we have a timeout of 2 seconds we guaranty our systems will finish the query in two seconds but, why send request and spend 2 seconds while we know the system is down? A robust solution As we talk at the beginning, the goal is to make our system resilient, that is, it must be able to adapt to third party failures and recover quickly from them. This means: Do not call a third party if we know it is down or takes too much time to respond. Fail quickly. If our system receives a request and we can&#x27;t complete due lack of support from a third party service, we can fail quickly. The client, although it will receive a bad response, will receive a response quickly and our system should be able to attend a new request. You can see how this will avoid a cascade failure of our system. Hopefully, some years ago the Netflix engineers worked in a solution called Hystrix which is so good that has become one of the most famous tools when working with microservices in Java. Hystrix is a latency and fault tolerance library designed to isolate points of access to remote systems, services and 3rd party libraries, stop cascading failure and enable resilience in complex distributed systems where failure is inevitable. Hystrix implements the circuit breaker pattern. Following the electrical circuits analogy, each dependency of our system to a third party service can be seen as a cable with an interruptor. While the communications with the third party works fine, the interruptor is closed (allowing flow the electricity), but when a problem is detected in the third party system (i.e due a timeout) the interruptor is opened making our system impossible to communicate with the third party, which makes our system fail quickly when a dependency fails. A robust solution for PHP After looking some libraries I finally decide to use Phystrix, a Hystrix port to PHP made by oDesk (now Upwork). Following Hystrix design, Phyxtrix requires all the actions we want to make against a third party service (querying a database, inserting into a queue, etc) must be encapsulated as a command (see the command pattern). The library offers and abstract command class from we can inherit when creating our commands. It is up to us to implement the  method responsible to make the real action (the call to a service, the insert into database, etc) and optionally the  method that returns a result if the third party is not available. The good part is each time a command is executed, the base command class collects metrics (like the number of failed call to a third party) and is responsible to manage the circuit state (open or close) depending on the current metric values. Note Phystrix stores all the metric in APC, so you should have this extension enabled. Additionally, the people from oDesk implemented two more tools: phystrix-bundle: A bundle for Symfony2 that can help us integrate Phystrix into our Symfony projects. phystrix-dashboard: Some classes that helps creating an endpoint in our application to serve the metrics stores by Phystrix. This endpoint can be added to the hystrix-dashboard tool to monitor our metrics in almost real time. hystrix-dashboard Conclusions Our systems has dependencies to other systems we can&#x27;t control. Setting timeouts in our connections is a good practice but it is not enough. Hystrix is a tool that implements the circuit breaker pattern, which can help our systems to be more resilient. Phystrix is a Hystrix port for PHP. It is easy to integrate in our PHP applications and protect against latency, fault tolerance and cascade failures when working with third party systems.</p></a></div><style data-emotion-css="1odwksc">.css-1odwksc{float:left;}</style><a rel="prev" class="css-1odwksc e1y8vgc63" href="/blog/"><span role="img" aria-label="prev">👈</span> Previous Page</a><style data-emotion-css="146q31f">.css-146q31f{float:right;}</style><a rel="next" class="css-146q31f e1y8vgc64" href="/blog/3">Next Page <span role="img" aria-label="next">👉</span></a></div></main><style data-emotion-css="1gs2vr">.css-1gs2vr{font-size:0.7em;text-align:center;}</style><footer class="css-1gs2vr egf89ri5">© I built this site with<style data-emotion-css="1d5m7t5">.css-1d5m7t5{margin-left:5px;margin-right:5px;}</style><a href="https://www.gatsbyjs.org" target="_blank" class="css-1d5m7t5 e46mkkt1">Gatsby</a>from the starter<a href="https://github.com/niklasmtj/gatsby-starter-julia" target="_blank" class="css-1d5m7t5 e46mkkt1">julia</a>and made a bunch of modifications. The full content is available in my<a href="https://github.com/acanimal/acanimal.github.io" target="_blank" class="css-1d5m7t5 e46mkkt1">repository</a>. Icons made by<a href="https://www.flaticon.com/authors/freepik" target="_blank" class="css-1d5m7t5 e46mkkt1">Freepik</a> <!-- -->from<!-- --> <a href="https://www.flaticon.com" target="_blank" class="css-1d5m7t5 e46mkkt1">Flaticon</a></footer></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-8297669-2', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2";window.webpackCompilationHash="94830e9bd36aba932e6a";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-39cda9469372e75ea0ef.js"],"component---src-templates-blog-list-js":["/component---src-templates-blog-list-js-61e5397d31f13c84bebb.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-1ca963176d6cf760344f.js"],"component---src-templates-page-js":["/component---src-templates-page-js-8c3210378778d7349043.js"],"component---src-pages-404-js":["/component---src-pages-404-js-c533db36b93ad2e64ecf.js"],"component---src-pages-archive-js":["/component---src-pages-archive-js-bb8d5a8f3360b2783bb4.js"],"component---src-pages-index-js":["/component---src-pages-index-js-719db785ef00b42636e7.js"]};/*]]>*/</script><script src="/webpack-runtime-c2694fb10bfac50a2cd6.js" async=""></script><script src="/styles-577ae45e6d2a94e7a3f3.js" async=""></script><script src="/app-39cda9469372e75ea0ef.js" async=""></script><script src="/1-26e29eb6158becab9f2e.js" async=""></script><script src="/component---src-templates-blog-list-js-61e5397d31f13c84bebb.js" async=""></script></body></html>